var H=Object.defineProperty,z=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var T=(t,r,n)=>r in t?H(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,k=(t,r)=>{for(var n in r||(r={}))_.call(r,n)&&T(t,n,r[n]);if(R)for(var n of R(r))V.call(r,n)&&T(t,n,r[n]);return t},O=(t,r)=>z(t,X(r));import{j as D,r as g,L as v,m as L,l as K,f as Q,a as j,R as W,u as I,b as Z,c as J,d as A,e as ee,H as te}from"./vendor.js";const re=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};re();const e=D.exports.jsx,u=D.exports.jsxs,ne=D.exports.Fragment;function se(t=300){if(t!==0)return{height:t+"px",width:t+"px",margin:"0 auto"}}var ae=()=>{const[t,r]=g.exports.useState();return g.exports.useEffect(()=>{const n=document.getElementById("lifegame"),o=n.getContext("2d");if(!n||!o)return;const s=Math.round(n.offsetWidth/10)*10,l=s/10,a=10;o.fillStyle="#f9f9f9",o.fillRect(0,0,s,s);const m=f(l);n.addEventListener("mousemove",P),r(s);function F(i){const c=JSON.parse(JSON.stringify(i));G(c),C(i)}function f(i){const c=new Array(i);for(let d=0;d<i;d++){c[d]=new Array(i);for(let h=0;h<i;h++)c[d][h]=Math.round(Math.random())}return c}function p(i,c,d){let h=0;for(let N=i-1;N<=i+1;N++)for(let y=c-1;y<=c+1;y++)N>=0&&N<d.length&&y>=0&&y<d.length&&!(N===i&&y===c)&&(h+=d[N][y]===1?1:0);return h}function E(i,c,d){switch(p(i,c,d)){case 3:return m[i][c]=1,1;case 2:return-1;default:return m[i][c]=0,0}}function b(i,c){!o||(o.fillStyle="#111",o.fillRect(i*a,c*a,a*window.devicePixelRatio,a*window.devicePixelRatio))}function w(i,c){!o||(o.fillStyle="#f9f9f9",o.fillRect(i*a,c*a,a*window.devicePixelRatio,a*window.devicePixelRatio))}function C(i){const c=i.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)i[d][h]===1?b(d,h):w(d,h)}function P(i){const c=i.offsetX,d=i.offsetY,h=Math.floor(c/a),N=Math.floor(d/a);h<=0||N<=0||(h<l&&N<l&&(m[h][N]=1),C(m))}function G(i){const c=i.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)E(d,h,i)}let x=null;const B=i=>{x||(x=i);const c=i-x;c>60&&(x=i-c%60,F(m)),requestAnimationFrame(B)};return requestAnimationFrame(B),()=>n.removeEventListener("mousemove",P)},[]),e("div",{className:"lifegame-box",style:se(t),children:e("canvas",{id:"lifegame",width:t,height:t})})};var oe=()=>u("div",{className:"guide",children:[e(ae,{}),u("blockquote",{className:"quotoSICP",children:[u("p",{children:["\u5982\u679C\u8BF4\u827A\u672F\u89E3\u91CA\u4E86\u6211\u4EEC\u7684\u68A6\u60F3\uFF0C",e("br",{}),"\u90A3\u4E48\u8BA1\u7B97\u673A\u5C31\u662F\u4EE5\u7A0B\u5E8F\u7684\u540D\u4E49\u6267\u884C\u7740\u5B83\u4EEC\u3002"]}),e("i",{style:{textAlign:"center",fontStyle:"italic",fontSize:"14px"},children:"\u2014\u2014 Alan J.Perlis\u300A\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u6784\u9020\u4E0E\u89E3\u91CA\u300B"})]}),e("div",{className:"link",children:e("h3",{onClick:()=>location.replace("/#/blog")})})]});const le=({id:t,title:r,tags:n,publishDate:o,content:s,toc:l,mode:a})=>{const m=new Date(o),F=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[f,p,E]=[F[m.getMonth()],m.getDate()+"TH",m.getFullYear()];return u("article",{className:"article post",children:[e("h1",{className:"article-title",children:a?r:e(v,{to:"/post/"+t,children:r})}),e("div",{className:"article-date",children:`${f||""} ${p} ${E||""}`}),e("div",{className:"article-content",children:e("div",{className:"post-body markdown-body",dangerouslySetInnerHTML:{__html:s}})}),e("div",{className:"article-info",children:u("div",{className:"article-tags",children:[e("span",{children:"Tags:"}),n.split("|").map(b=>e(v,{to:"/blog/tag/"+b,className:"article-tags-link",children:b},b))]})})]})};function ie(t){const r=t.filter(s=>s.type==="heading").map(s=>({nodeID:s.text.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-"),nodeLevel:s.depth,childrenNode:[]})),n={nodeID:"root",nodeLevel:0,childrenNode:[]};function o(s,l){let a;s.childrenNode.forEach(m=>{l.nodeLevel>m.nodeLevel&&(a=m)}),a===void 0?s.childrenNode.push(l):o(a,l)}return r.forEach(s=>o(n,s)),n}const M=new L.Renderer;M.heading=(t,r)=>{const n=t.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-");return`<h${r} id="${n}">${t}</h${r}>`};M.code=(t,r)=>{const n=K.highlightAuto(t).value;return`<pre><code class="lang-${r}">${n}</code></pre>`};L.setOptions({renderer:M,breaks:!0,gfm:!0});function ce(t){const{attributes:r,body:n}=Q(t),o=n,s=r,l=L.lexer(o),a=ie(l),m=L.parser(l);return{meta:s,html:m,markdown:o,tocTree:a}}const ue="//oss.ksana.net/articles/postList.json",de="//oss.ksana.net/articles/",he=()=>q().then(t=>[...new Set(t.map(r=>r.tags).reduce((r,n)=>r.concat(n)))]),Y=()=>q(),me=async t=>{const n=(await Y()).find(o=>o.id==t);return n?await fe(n.file_name):""},fe=t=>j.get(de+t),q=()=>j.get(ue).then(t=>t.map(r=>{const n=r.tags.split("|").map(o=>o.trim());return O(k({},r),{tags:n})}));class ge extends W.Component{constructor(r){super(r);this.state={hasError:!1,error:""},this.setState}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){}render(){return this.state.hasError?u(ne,{children:[e("h3",{style:{textAlign:"center"},children:"\u53D1\u751F\u4E86\u67D0\u4E9B\u610F\u5916\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u4E0D\u89C1\u4E86\uFF01"}),e("br",{}),e("p",{style:{color:"#fff"},children:this.state.error.toString()}),e("p",{style:{color:"#fff",maxHeight:300},children:JSON.stringify(this.props.post)})]}):this.props.children}}var pe=()=>{const[t,r]=g.exports.useState(),[n,o]=g.exports.useState(!0),{id:s}=I();return g.exports.useEffect(()=>{!s||me(Number(s)).then(l=>{try{const a=ce(l);if(!a)return;r(a),o(!1)}catch{}})},[s]),n||!t?e("h3",{style:{textAlign:"center"},children:"Loading..."}):e(ge,{post:t,children:e(le,{id:Number(s),title:t.meta.title,tags:t.meta.tags,publishDate:t.meta.publishDate,content:t.html,toc:t.tocTree,mode:!0})})};var ve=t=>{const[r,n]=g.exports.useState([]),[o,s]=g.exports.useState("all"),{tag:l}=t;return g.exports.useEffect(()=>{console.log(l),l&&s(l)},[l]),g.exports.useEffect(()=>{he().then(a=>{n(a)})},[]),u("ul",{className:"tags",children:[e("li",{className:`${o==="all"?"selectedTag":""}`,children:e(v,{to:"/blog",onClick:a=>s("all"),children:"ALL"})}),r.map(a=>e("li",{className:`${o===a?"selectedTag":""}`,children:e(v,{to:"/blog/tag/"+a,onClick:()=>s(a),children:a})},a))]})};const $=(t,r)=>{const n=r=="left"?t-1:t+1;return u("div",{className:r=="left"?"post-left":"post-right",children:[r=="left"&&"<",e(v,{onClick:o=>window.scrollTo(0,0),to:{search:`?pageNumber=${n}`},children:r=="left"?"PREVIOUS":"NEXT"}),r=="right"&&">"]})},S=20;var Ne=t=>{const{tag:r,pageNumber:n}=t,o=n*S,[s,l]=g.exports.useState([]),[a,m]=g.exports.useState([]);g.exports.useEffect(()=>{Y().then(f=>l(f))},[]),g.exports.useEffect(()=>{const f=s.sort((p,E)=>new Date(p.publish_date)<new Date(E.publish_date)?1:-1).filter(p=>r?!!p.tags.includes(r):!0);m(f)},[s,r]);const F=f=>{const p=new Date(f),E=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[b,w,C]=[E[p.getMonth()],p.getDate()+"TH",p.getFullYear()];return`${b} ${w} ${C}`};return s.length===0?e("h3",{children:"Loading..."}):u("div",{className:"posts",children:[e("ul",{className:"post-list",children:a.slice(o,o+S).map(f=>e("li",{children:u(v,{to:"/blog/post/"+f.id,children:[e("span",{className:"post-item-name",children:f.title}),e("span",{className:"post-item-date",children:F(f.publish_date)})]})},f.id))}),u("div",{className:"post-nav",children:[n>0&&$(n,"left"),n<a.length/S-1&&$(n,"right")]})]})};function Ee(){const{search:t}=Z();return g.exports.useMemo(()=>new URLSearchParams(t),[t])}const U=()=>{const t=I(),r=Ee();return u("div",{className:"archive",children:[u("div",{className:"archive-tags",children:[e("h3",{children:"Tags"}),e(ve,{tag:t.tag||""})]}),u("div",{className:"archive-list",children:[e("h3",{children:"List"}),e(Ne,{tag:t.tag||"",pageNumber:Number(r.get("pageNumber"))||0})]})]})};const be=()=>u("div",{className:"about",children:[e("div",{className:"mePic",children:e("img",{src:"https://avatars0.githubusercontent.com/u/7224894?s=460&v=4",alt:""})}),u("p",{children:["\u751F\u547D\u7684\u8C1C\u56E2\u5E76\u4E0D\u662F\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u751F\u6D3B\u7684\u4F53\u9A8C\u624D\u662F\u3002",e("br",{}),"\u2014\u2014\u300A\u6C99\u4E18\u300B"]}),e("br",{}),e("a",{style:{textDecoration:"underline"},href:"https://github.com/lzcers",children:"My GitHub"}),e("br",{}),e("i",{children:"Email: lzcers@gmail.com"})," ",e("br",{})]});var Ae=()=>e("div",{className:"aranya",children:e("p",{children:"\u4F60\u6765\u4EBA\u95F4\u8D70\u4E00\u8D9F\uFF0C\u4E0D\u662F\u8981\u62E5\u6709\u4EC0\u4E48\uFF0C\u800C\u662F\u4F53\u9A8C\u4EC0\u4E48\u3002"})});const ye=()=>u("nav",{className:"nav",children:[e("div",{className:"nav-header",children:e("h1",{className:"nav-sitename",children:e(v,{to:"/blog",children:u("div",{className:"nav-title",children:["\u5239",e("div",{className:"taijiBox",children:e("div",{className:"taiji"})}),"\u90A3"]})})})}),u("ul",{className:"nav-menu",children:[e("li",{className:"nav-item",children:e(v,{to:"/",children:"LIFEGAME"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog",children:"BLOG"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aranya",children:"ARANYA"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aboutme",children:"ABOUT"})})]})]});const Fe=()=>e("footer",{children:u("p",{children:["Copyright \xA9 KSANA 2017 - 2022",e("br",{}),"\u2764 Powered by React",e("br",{}),e("a",{href:"https://beian.miit.gov.cn",children:"\u6D59ICP\u59072022004381\u53F7"})]})}),Ce=()=>u(J,{children:[e(A,{path:"/",element:e(U,{})}),e(A,{path:"/tag/:tag",element:e(U,{})}),e(A,{path:"/post/:id",element:e(pe,{})}),e(A,{path:"/aboutme",element:e(be,{})}),e(A,{path:"/aranya",element:e(Ae,{})})]}),xe=()=>u("div",{className:"container",children:[e(ye,{}),e("div",{className:"content",children:e(Ce,{})}),e(Fe,{})]}),Le=()=>u(J,{children:[e(A,{path:"/",element:e(oe,{})}),e(A,{path:"/blog/*",element:e(xe,{})})]});ee.render(e(te,{children:e(Le,{})}),document.getElementById("app"));
