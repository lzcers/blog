var G=Object.defineProperty,X=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var B=(t,n,s)=>n in t?G(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,O=(t,n)=>{for(var s in n||(n={}))V.call(n,s)&&B(t,s,n[s]);if(R)for(var s of R(n))Q.call(n,s)&&B(t,s,n[s]);return t},$=(t,n)=>X(t,K(n));import{j as D,r as f,L as v,m as x,l as W,f as Z,a as k,R as ee,u as j,b as te,c as J,d as y,e as ne,H as re}from"./vendor.js";const se=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};se();const e=D.exports.jsx,u=D.exports.jsxs,_=D.exports.Fragment;function ae(t=300){if(t!==0)return{height:t+"px",width:t+"px",margin:"0 auto"}}var oe=()=>{const[t,n]=f.exports.useState();return f.exports.useEffect(()=>{const s=document.getElementById("lifegame"),i=s.getContext("2d");if(!s||!i)return;const r=Math.round(s.offsetWidth/10)*10,o=r/10,a=10;i.fillStyle="#f9f9f9",i.fillRect(0,0,r,r);const m=g(o);s.addEventListener("mousemove",P),n(r);function C(l){const c=JSON.parse(JSON.stringify(l));z(c),F(l)}function g(l){const c=new Array(l);for(let d=0;d<l;d++){c[d]=new Array(l);for(let h=0;h<l;h++)c[d][h]=Math.round(Math.random())}return c}function p(l,c,d){let h=0;for(let N=l-1;N<=l+1;N++)for(let A=c-1;A<=c+1;A++)N>=0&&N<d.length&&A>=0&&A<d.length&&!(N===l&&A===c)&&(h+=d[N][A]===1?1:0);return h}function E(l,c,d){switch(p(l,c,d)){case 3:return m[l][c]=1,1;case 2:return-1;default:return m[l][c]=0,0}}function b(l,c){!i||(i.fillStyle="#111",i.fillRect(l*a,c*a,a*window.devicePixelRatio,a*window.devicePixelRatio))}function L(l,c){!i||(i.fillStyle="#f9f9f9",i.fillRect(l*a,c*a,a*window.devicePixelRatio,a*window.devicePixelRatio))}function F(l){const c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)l[d][h]===1?b(d,h):L(d,h)}function P(l){const c=l.offsetX,d=l.offsetY,h=Math.floor(c/a),N=Math.floor(d/a);h<=0||N<=0||(h<o&&N<o&&(m[h][N]=1),F(m))}function z(l){const c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)E(d,h,l)}let w=null;const T=l=>{w||(w=l);const c=l-w;c>60&&(w=l-c%60,C(m)),requestAnimationFrame(T)};return requestAnimationFrame(T),()=>s.removeEventListener("mousemove",P)},[]),e("div",{className:"lifegame-box",style:ae(t),children:e("canvas",{id:"lifegame",width:t,height:t})})};var ie=()=>u("div",{className:"guide",children:[e(oe,{}),u("blockquote",{className:"quotoSICP",children:[u("p",{children:["\u5982\u679C\u8BF4\u827A\u672F\u89E3\u91CA\u4E86\u6211\u4EEC\u7684\u68A6\u60F3\uFF0C",e("br",{}),"\u90A3\u4E48\u8BA1\u7B97\u673A\u5C31\u662F\u4EE5\u7A0B\u5E8F\u7684\u540D\u4E49\u6267\u884C\u7740\u5B83\u4EEC\u3002"]}),e("i",{style:{textAlign:"center",fontStyle:"italic",fontSize:"14px"},children:"\u2014\u2014 Alan J.Perlis\u300A\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u6784\u9020\u4E0E\u89E3\u91CA\u300B"})]}),e("div",{className:"link",children:e("h3",{onClick:()=>location.replace("/#/blog")})})]});const le=({id:t,title:n,tags:s,publishDate:i,content:r,toc:o,mode:a})=>{const m=new Date(i),C=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[g,p,E]=[C[m.getMonth()],m.getDate()+"TH",m.getFullYear()];return u("article",{className:"article post",children:[e("h1",{className:"article-title",children:a?n:e(v,{to:"/post/"+t,children:n})}),e("div",{className:"article-date",children:`${g||""} ${p} ${E||""}`}),e("div",{className:"article-content",children:e("div",{className:"post-body markdown-body",dangerouslySetInnerHTML:{__html:r}})}),e("div",{className:"article-info",children:u("div",{className:"article-tags",children:[e("span",{children:"Tags:"}),s.split("|").map(b=>e(v,{to:"/blog/tag/"+b,className:"article-tags-link",children:b},b))]})})]})};function ce(t){const n=t.filter(r=>r.type==="heading").map(r=>({nodeID:r.text.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-"),nodeLevel:r.depth,childrenNode:[]})),s={nodeID:"root",nodeLevel:0,childrenNode:[]};function i(r,o){let a;r.childrenNode.forEach(m=>{o.nodeLevel>m.nodeLevel&&(a=m)}),a===void 0?r.childrenNode.push(o):i(a,o)}return n.forEach(r=>i(s,r)),s}const M=new x.Renderer;M.heading=(t,n)=>{const s=t.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-");return`<h${n} id="${s}">${t}</h${n}>`};M.code=(t,n)=>{const s=W.highlightAuto(t).value;return`<pre><code class="lang-${n}">${s}</code></pre>`};x.setOptions({renderer:M,breaks:!0,gfm:!0});function H(t){const{attributes:n,body:s}=Z(t),i=s,r=n,o=x.lexer(i),a=ce(o),m=x.parser(o);return{meta:r,html:m,markdown:i,tocTree:a}}const ue="//oss.ksana.net/articles/postList.json",de="//oss.ksana.net/articles/",he=()=>q().then(t=>[...new Set(t.map(n=>n.tags).reduce((n,s)=>n.concat(s)))]),Y=()=>q(),me=async t=>{const s=(await Y()).find(i=>i.id==t);return s?await fe(s.file_name):""},fe=t=>k.get(de+t),q=()=>k.get(ue).then(t=>t.map(n=>{const s=n.tags.split("|").map(i=>i.trim());return $(O({},n),{tags:s})}));class ge extends ee.Component{constructor(n){super(n);this.state={hasError:!1,error:""},this.setState}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){}render(){return this.state.hasError?u(_,{children:[e("h3",{style:{textAlign:"center"},children:"\u53D1\u751F\u4E86\u67D0\u4E9B\u610F\u5916\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u4E0D\u89C1\u4E86\uFF01"}),e("br",{}),e("p",{style:{color:"#fff"},children:this.state.error.toString()}),e("p",{style:{color:"#fff",maxHeight:300},children:JSON.stringify(this.props.post)})]}):this.props.children}}var pe=()=>{const[t,n]=f.exports.useState(),[s,i]=f.exports.useState(!0),{id:r}=j();return f.exports.useEffect(()=>{!r||me(Number(r)).then(o=>{try{const a=H(o);if(!a)return;n(a),i(!1)}catch{}})},[r]),s||!t?e("h3",{style:{textAlign:"center"},children:"Loading..."}):e(ge,{post:t,children:e(le,{id:Number(r),title:t.meta.title,tags:t.meta.tags,publishDate:t.meta.publishDate,content:t.html,toc:t.tocTree,mode:!0})})};var ve=t=>{const[n,s]=f.exports.useState([]),[i,r]=f.exports.useState("all"),{tag:o}=t;return f.exports.useEffect(()=>{console.log(o),o&&r(o)},[o]),f.exports.useEffect(()=>{he().then(a=>{s(a)})},[]),u("ul",{className:"tags",children:[e("li",{className:`${i==="all"?"selectedTag":""}`,children:e(v,{to:"/blog",onClick:a=>r("all"),children:"ALL"})}),n.map(a=>e("li",{className:`${i===a?"selectedTag":""}`,children:e(v,{to:"/blog/tag/"+a,onClick:()=>r(a),children:a})},a))]})};const U=(t,n)=>{const s=n=="left"?t-1:t+1;return u("div",{className:n=="left"?"post-left":"post-right",children:[n=="left"&&"\u25C0",e(v,{onClick:i=>window.scrollTo(0,0),to:{search:`?pageNumber=${s}`},children:n=="left"?"PREVIOUS":"NEXT"}),n=="right"&&"\u25B6"]})},S=20;var Ne=t=>{const{tag:n,pageNumber:s}=t,i=s*S,[r,o]=f.exports.useState([]),[a,m]=f.exports.useState([]);f.exports.useEffect(()=>{Y().then(g=>o(g))},[]),f.exports.useEffect(()=>{const g=r.sort((p,E)=>new Date(p.publish_date)<new Date(E.publish_date)?1:-1).filter(p=>n?!!p.tags.includes(n):!0);m(g)},[r,n]);const C=g=>{const p=new Date(g),E=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[b,L,F]=[E[p.getMonth()],p.getDate()+"TH",p.getFullYear()];return`${b} ${L} ${F}`};return r.length===0?e("h3",{children:"Loading..."}):u("div",{className:"posts",children:[e("ul",{className:"post-list",children:a.slice(i,i+S).map(g=>e("li",{children:u(v,{to:"/blog/post/"+g.id,children:[e("span",{className:"post-item-name",children:g.title}),e("span",{className:"post-item-date",children:C(g.publish_date)})]})},g.id))}),u("div",{className:"post-nav",children:[s>0&&U(s,"left"),s<a.length/S-1&&U(s,"right")]})]})};function Ee(){const{search:t}=te();return f.exports.useMemo(()=>new URLSearchParams(t),[t])}const I=()=>{const t=j(),n=Ee();return u("div",{className:"archive",children:[u("div",{className:"archive-tags",children:[e("h3",{children:"Tags"}),e(ve,{tag:t.tag||""})]}),u("div",{className:"archive-list",children:[e("h3",{children:"List"}),e(Ne,{tag:t.tag||"",pageNumber:Number(n.get("pageNumber"))||0})]})]})};const be=()=>u("div",{className:"about",children:[e("div",{className:"mePic",children:e("img",{src:"https://avatars0.githubusercontent.com/u/7224894?s=460&v=4",alt:""})}),u("p",{children:["\u751F\u547D\u7684\u8C1C\u56E2\u5E76\u4E0D\u662F\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u751F\u6D3B\u7684\u4F53\u9A8C\u624D\u662F\u3002",e("br",{}),"\u2014\u2014\u300A\u6C99\u4E18\u300B"]}),e("br",{}),e("a",{style:{textDecoration:"underline"},href:"https://github.com/lzcers",children:"My GitHub"}),e("br",{}),e("i",{children:"Email: lzcers@gmail.com"})," ",e("br",{})]}),ye="https://api.github.com/repos/lzcers/docs/issues/114/comments";function Ae(){return window.myToken?k.get(ye,{headers:{Authorization:`token ${window==null?void 0:window.myToken}`}}).catch(t=>(console.info("token check faild..."),[])):Promise.resolve([])}var Ce=()=>{Array(30).fill({date:"2022-03-20",count:5});const[t,n]=f.exports.useState([]),s=()=>{Ae().then(r=>{n(r.map(o=>{const a=H(o.body);return{id:o.id,createDatetime:new Date(o.created_at).toLocaleString(),updateDatetime:new Date(o.updated_at).toLocaleString(),content:a.html}}).reverse())})};f.exports.useEffect(()=>{s()},[]);const i=r=>{window.myToken=r,s()};return u("div",{className:"aranya",children:[t.length==0&&u(_,{children:[e("div",{className:"heti heti--ancient",children:e("p",{children:"\u975E\u516D\u6839\u6240\u89C1\uFF0C\u7740\u516D\u5C18\u800C\u663E\uFF0C\u51E1\u4E86\u609F\u8005\u5373\u77E5\u9053\u3002"})}),e("input",{type:"text",className:"door",onKeyUp:r=>{r.keyCode==13&&i(r.target.value)}})]}),e("div",{className:"tags"}),e("div",{className:"timeline",children:t.map(r=>u("div",{className:"record",children:[e("div",{className:"content post-body markdown-body",dangerouslySetInnerHTML:{__html:r.content}}),e("div",{className:"props",children:e("span",{className:"datetime",children:r.updateDatetime})})]},r.id))})]})};const Fe=()=>u("nav",{className:"nav",children:[e("div",{className:"nav-header",children:e("h1",{className:"nav-sitename",children:e(v,{to:"/blog",children:u("div",{className:"nav-title",children:["\u5239",e("div",{className:"taijiBox",children:e("div",{className:"taiji"})}),"\u90A3"]})})})}),u("ul",{className:"nav-menu",children:[e("li",{className:"nav-item",children:e(v,{to:"/",children:"LIFEGAME"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog",children:"BLOG"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aranya",children:"ARANYA"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aboutme",children:"ABOUT"})})]})]});const we=()=>e("footer",{children:u("p",{children:["Copyright \xA9 KSANA 2017 - 2022",e("br",{}),"\u2764 Powered by React",e("br",{}),e("a",{href:"https://beian.miit.gov.cn",children:"\u6D59ICP\u59072022004381\u53F7"})]})}),xe=()=>u(J,{children:[e(y,{path:"/",element:e(I,{})}),e(y,{path:"/tag/:tag",element:e(I,{})}),e(y,{path:"/post/:id",element:e(pe,{})}),e(y,{path:"/aboutme",element:e(be,{})}),e(y,{path:"/aranya",element:e(Ce,{})})]}),Le=()=>u("div",{className:"container",children:[e(Fe,{}),e("div",{className:"content",children:e(xe,{})}),e(we,{})]}),Se=()=>u(J,{children:[e(y,{path:"/",element:e(ie,{})}),e(y,{path:"/blog/*",element:e(Le,{})})]});ne.render(e(re,{children:e(Se,{})}),document.getElementById("app"));
