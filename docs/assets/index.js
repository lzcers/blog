var z=Object.defineProperty,G=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var k=(t,r,n)=>r in t?z(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,O=(t,r)=>{for(var n in r||(r={}))V.call(r,n)&&k(t,n,r[n]);if(T)for(var n of T(r))K.call(r,n)&&k(t,n,r[n]);return t},$=(t,r)=>G(t,X(r));import{j as D,r as f,L as v,m as L,l as Q,f as W,a as M,R as Z,u as j,b as ee,c as J,d as y,e as te,H as re}from"./vendor.js";const ne=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};ne();const e=D.exports.jsx,u=D.exports.jsxs,se=D.exports.Fragment;function ae(t=300){if(t!==0)return{height:t+"px",width:t+"px",margin:"0 auto"}}var oe=()=>{const[t,r]=f.exports.useState();return f.exports.useEffect(()=>{const n=document.getElementById("lifegame"),a=n.getContext("2d");if(!n||!a)return;const s=Math.round(n.offsetWidth/10)*10,i=s/10,o=10;a.fillStyle="#f9f9f9",a.fillRect(0,0,s,s);const m=g(i);n.addEventListener("mousemove",R),r(s);function C(l){const c=JSON.parse(JSON.stringify(l));q(c),F(l)}function g(l){const c=new Array(l);for(let d=0;d<l;d++){c[d]=new Array(l);for(let h=0;h<l;h++)c[d][h]=Math.round(Math.random())}return c}function p(l,c,d){let h=0;for(let N=l-1;N<=l+1;N++)for(let A=c-1;A<=c+1;A++)N>=0&&N<d.length&&A>=0&&A<d.length&&!(N===l&&A===c)&&(h+=d[N][A]===1?1:0);return h}function E(l,c,d){switch(p(l,c,d)){case 3:return m[l][c]=1,1;case 2:return-1;default:return m[l][c]=0,0}}function b(l,c){!a||(a.fillStyle="#111",a.fillRect(l*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function w(l,c){!a||(a.fillStyle="#f9f9f9",a.fillRect(l*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function F(l){const c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)l[d][h]===1?b(d,h):w(d,h)}function R(l){const c=l.offsetX,d=l.offsetY,h=Math.floor(c/o),N=Math.floor(d/o);h<=0||N<=0||(h<i&&N<i&&(m[h][N]=1),F(m))}function q(l){const c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)E(d,h,l)}let x=null;const B=l=>{x||(x=l);const c=l-x;c>60&&(x=l-c%60,C(m)),requestAnimationFrame(B)};return requestAnimationFrame(B),()=>n.removeEventListener("mousemove",R)},[]),e("div",{className:"lifegame-box",style:ae(t),children:e("canvas",{id:"lifegame",width:t,height:t})})};var ie=()=>u("div",{className:"guide",children:[e(oe,{}),u("blockquote",{className:"quotoSICP",children:[u("p",{children:["\u5982\u679C\u8BF4\u827A\u672F\u89E3\u91CA\u4E86\u6211\u4EEC\u7684\u68A6\u60F3\uFF0C",e("br",{}),"\u90A3\u4E48\u8BA1\u7B97\u673A\u5C31\u662F\u4EE5\u7A0B\u5E8F\u7684\u540D\u4E49\u6267\u884C\u7740\u5B83\u4EEC\u3002"]}),e("i",{style:{textAlign:"center",fontStyle:"italic",fontSize:"14px"},children:"\u2014\u2014 Alan J.Perlis\u300A\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u6784\u9020\u4E0E\u89E3\u91CA\u300B"})]}),e("div",{className:"link",children:e("h3",{onClick:()=>location.replace("/#/blog")})})]});const le=({id:t,title:r,tags:n,publishDate:a,content:s,toc:i,mode:o})=>{const m=new Date(a),C=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[g,p,E]=[C[m.getMonth()],m.getDate()+"TH",m.getFullYear()];return u("article",{className:"article post",children:[e("h1",{className:"article-title",children:o?r:e(v,{to:"/post/"+t,children:r})}),e("div",{className:"article-date",children:`${g||""} ${p} ${E||""}`}),e("div",{className:"article-content",children:e("div",{className:"post-body markdown-body",dangerouslySetInnerHTML:{__html:s}})}),e("div",{className:"article-info",children:u("div",{className:"article-tags",children:[e("span",{children:"Tags:"}),n.split("|").map(b=>e(v,{to:"/blog/tag/"+b,className:"article-tags-link",children:b},b))]})})]})};function ce(t){const r=t.filter(s=>s.type==="heading").map(s=>({nodeID:s.text.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-"),nodeLevel:s.depth,childrenNode:[]})),n={nodeID:"root",nodeLevel:0,childrenNode:[]};function a(s,i){let o;s.childrenNode.forEach(m=>{i.nodeLevel>m.nodeLevel&&(o=m)}),o===void 0?s.childrenNode.push(i):a(o,i)}return r.forEach(s=>a(n,s)),n}const P=new L.Renderer;P.heading=(t,r)=>{const n=t.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-");return`<h${r} id="${n}">${t}</h${r}>`};P.code=(t,r)=>{const n=Q.highlightAuto(t).value;return`<pre><code class="lang-${r}">${n}</code></pre>`};L.setOptions({renderer:P,breaks:!0,gfm:!0});function _(t){const{attributes:r,body:n}=W(t),a=n,s=r,i=L.lexer(a),o=ce(i),m=L.parser(i);return{meta:s,html:m,markdown:a,tocTree:o}}const ue="//oss.ksana.net/articles/postList.json",de="//oss.ksana.net/articles/",he=()=>Y().then(t=>[...new Set(t.map(r=>r.tags).reduce((r,n)=>r.concat(n)))]),H=()=>Y(),me=async t=>{const n=(await H()).find(a=>a.id==t);return n?await fe(n.file_name):""},fe=t=>M.get(de+t),Y=()=>M.get(ue).then(t=>t.map(r=>{const n=r.tags.split("|").map(a=>a.trim());return $(O({},r),{tags:n})}));class ge extends Z.Component{constructor(r){super(r);this.state={hasError:!1,error:""},this.setState}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){}render(){return this.state.hasError?u(se,{children:[e("h3",{style:{textAlign:"center"},children:"\u53D1\u751F\u4E86\u67D0\u4E9B\u610F\u5916\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u4E0D\u89C1\u4E86\uFF01"}),e("br",{}),e("p",{style:{color:"#fff"},children:this.state.error.toString()}),e("p",{style:{color:"#fff",maxHeight:300},children:JSON.stringify(this.props.post)})]}):this.props.children}}var pe=()=>{const[t,r]=f.exports.useState(),[n,a]=f.exports.useState(!0),{id:s}=j();return f.exports.useEffect(()=>{!s||me(Number(s)).then(i=>{try{const o=_(i);if(!o)return;r(o),a(!1)}catch{}})},[s]),n||!t?e("h3",{style:{textAlign:"center"},children:"Loading..."}):e(ge,{post:t,children:e(le,{id:Number(s),title:t.meta.title,tags:t.meta.tags,publishDate:t.meta.publishDate,content:t.html,toc:t.tocTree,mode:!0})})};var ve=t=>{const[r,n]=f.exports.useState([]),[a,s]=f.exports.useState("all"),{tag:i}=t;return f.exports.useEffect(()=>{console.log(i),i&&s(i)},[i]),f.exports.useEffect(()=>{he().then(o=>{n(o)})},[]),u("ul",{className:"tags",children:[e("li",{className:`${a==="all"?"selectedTag":""}`,children:e(v,{to:"/blog",onClick:o=>s("all"),children:"ALL"})}),r.map(o=>e("li",{className:`${a===o?"selectedTag":""}`,children:e(v,{to:"/blog/tag/"+o,onClick:()=>s(o),children:o})},o))]})};const U=(t,r)=>{const n=r=="left"?t-1:t+1;return u("div",{className:r=="left"?"post-left":"post-right",children:[r=="left"&&"\u25C0",e(v,{onClick:a=>window.scrollTo(0,0),to:{search:`?pageNumber=${n}`},children:r=="left"?"PREVIOUS":"NEXT"}),r=="right"&&"\u25B6"]})},S=20;var Ne=t=>{const{tag:r,pageNumber:n}=t,a=n*S,[s,i]=f.exports.useState([]),[o,m]=f.exports.useState([]);f.exports.useEffect(()=>{H().then(g=>i(g))},[]),f.exports.useEffect(()=>{const g=s.sort((p,E)=>new Date(p.publish_date)<new Date(E.publish_date)?1:-1).filter(p=>r?!!p.tags.includes(r):!0);m(g)},[s,r]);const C=g=>{const p=new Date(g),E=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[b,w,F]=[E[p.getMonth()],p.getDate()+"TH",p.getFullYear()];return`${b} ${w} ${F}`};return s.length===0?e("h3",{children:"Loading..."}):u("div",{className:"posts",children:[e("ul",{className:"post-list",children:o.slice(a,a+S).map(g=>e("li",{children:u(v,{to:"/blog/post/"+g.id,children:[e("span",{className:"post-item-name",children:g.title}),e("span",{className:"post-item-date",children:C(g.publish_date)})]})},g.id))}),u("div",{className:"post-nav",children:[n>0&&U(n,"left"),n<o.length/S-1&&U(n,"right")]})]})};function Ee(){const{search:t}=ee();return f.exports.useMemo(()=>new URLSearchParams(t),[t])}const I=()=>{const t=j(),r=Ee();return u("div",{className:"archive",children:[u("div",{className:"archive-tags",children:[e("h3",{children:"Tags"}),e(ve,{tag:t.tag||""})]}),u("div",{className:"archive-list",children:[e("h3",{children:"List"}),e(Ne,{tag:t.tag||"",pageNumber:Number(r.get("pageNumber"))||0})]})]})};const be=()=>u("div",{className:"about",children:[e("div",{className:"mePic",children:e("img",{src:"https://avatars0.githubusercontent.com/u/7224894?s=460&v=4",alt:""})}),u("p",{children:["\u751F\u547D\u7684\u8C1C\u56E2\u5E76\u4E0D\u662F\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u751F\u6D3B\u7684\u4F53\u9A8C\u624D\u662F\u3002",e("br",{}),"\u2014\u2014\u300A\u6C99\u4E18\u300B"]}),e("br",{}),e("a",{style:{textDecoration:"underline"},href:"https://github.com/lzcers",children:"My GitHub"}),e("br",{}),e("i",{children:"Email: lzcers@gmail.com"})," ",e("br",{})]}),ye="https://api.github.com/repos/lzcers/docs/issues/114/comments";function Ae(){return M.get(ye,{headers:{Authorization:`token ${window==null?void 0:window.myToken}`}})}var Ce=()=>{Array(30).fill({date:"2022-03-20",count:5});const[t,r]=f.exports.useState([]);return f.exports.useEffect(()=>{Ae().then(n=>{r(n.map(a=>{const s=_(a.body);return{id:a.id,createDatetime:new Date(a.created_at).toLocaleString(),updateDatetime:new Date(a.updated_at).toLocaleString(),content:s.html}}).reverse()),console.log(n)})},[]),u("div",{className:"aranya",children:[e("div",{className:"heti heti--ancient",children:e("p",{children:"\u975E\u516D\u6839\u6240\u89C1\uFF0C\u7740\u516D\u5C18\u800C\u663E\uFF0C\u51E1\u4E86\u609F\u8005\u5373\u77E5\u9053\u3002"})}),e("div",{className:"tags"}),e("div",{className:"timeline",children:t.map(n=>u("div",{className:"record",children:[e("div",{className:"content post-body markdown-body",dangerouslySetInnerHTML:{__html:n.content}}),e("div",{className:"props",children:e("span",{className:"datetime",children:n.updateDatetime})})]},n.id))})]})};const Fe=()=>u("nav",{className:"nav",children:[e("div",{className:"nav-header",children:e("h1",{className:"nav-sitename",children:e(v,{to:"/blog",children:u("div",{className:"nav-title",children:["\u5239",e("div",{className:"taijiBox",children:e("div",{className:"taiji"})}),"\u90A3"]})})})}),u("ul",{className:"nav-menu",children:[e("li",{className:"nav-item",children:e(v,{to:"/",children:"LIFEGAME"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog",children:"BLOG"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aranya",children:"ARANYA"})}),e("li",{className:"nav-item",children:e(v,{to:"/blog/aboutme",children:"ABOUT"})})]})]});const xe=()=>e("footer",{children:u("p",{children:["Copyright \xA9 KSANA 2017 - 2022",e("br",{}),"\u2764 Powered by React",e("br",{}),e("a",{href:"https://beian.miit.gov.cn",children:"\u6D59ICP\u59072022004381\u53F7"})]})}),Le=()=>u(J,{children:[e(y,{path:"/",element:e(I,{})}),e(y,{path:"/tag/:tag",element:e(I,{})}),e(y,{path:"/post/:id",element:e(pe,{})}),e(y,{path:"/aboutme",element:e(be,{})}),e(y,{path:"/aranya",element:e(Ce,{})})]}),we=()=>u("div",{className:"container",children:[e(Fe,{}),e("div",{className:"content",children:e(Le,{})}),e(xe,{})]}),Se=()=>u(J,{children:[e(y,{path:"/",element:e(ie,{})}),e(y,{path:"/blog/*",element:e(we,{})})]});te.render(e(re,{children:e(Se,{})}),document.getElementById("app"));
