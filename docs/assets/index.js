var z=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var R=(t,r,s)=>r in t?z(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,P=(t,r)=>{for(var s in r||(r={}))q.call(r,s)&&R(t,s,r[s]);if(B)for(var s of B(r))X.call(r,s)&&R(t,s,r[s]);return t},k=(t,r)=>G(t,H(r));import{j as L,r as f,L as p,m as C,l as _,f as K,a as O,R as V,u as $,b as j,c as v,d as W,H as Q}from"./vendor.js";const Z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};Z();const e=L.exports.jsx,h=L.exports.jsxs,ee=L.exports.Fragment;function te(t=300){if(t!==0)return{height:t+"px",width:t+"px",margin:"0 auto"}}var re=()=>{const[t,r]=f.exports.useState();return f.exports.useEffect(()=>{const s=document.getElementById("lifegame"),l=s.getContext("2d");if(!s||!l)return;const n=Math.round(s.offsetWidth/10)*10,a=n/10,o=10;l.fillStyle="#f9f9f9",l.fillRect(0,0,n,n);const m=b(a);s.addEventListener("mousemove",D),r(n);function E(i){const c=JSON.parse(JSON.stringify(i));Y(c),w(i)}function b(i){const c=new Array(i);for(let u=0;u<i;u++){c[u]=new Array(i);for(let d=0;d<i;d++)c[u][d]=Math.round(Math.random())}return c}function y(i,c,u){let d=0;for(let g=i-1;g<=i+1;g++)for(let N=c-1;N<=c+1;N++)g>=0&&g<u.length&&N>=0&&N<u.length&&!(g===i&&N===c)&&(d+=u[g][N]===1?1:0);return d}function x(i,c,u){switch(y(i,c,u)){case 3:return m[i][c]=1,1;case 2:return-1;default:return m[i][c]=0,0}}function A(i,c){!l||(l.fillStyle="#111",l.fillRect(i*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function U(i,c){!l||(l.fillStyle="#f9f9f9",l.fillRect(i*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function w(i){const c=i.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)i[u][d]===1?A(u,d):U(u,d)}function D(i){const c=i.offsetX,u=i.offsetY,d=Math.floor(c/o),g=Math.floor(u/o);d<=0||g<=0||(d<a&&g<a&&(m[d][g]=1),w(m))}function Y(i){const c=i.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)x(u,d,i)}let F=null;const M=i=>{F||(F=i);const c=i-F;c>60&&(F=i-c%60,E(m)),requestAnimationFrame(M)};return requestAnimationFrame(M),()=>s.removeEventListener("mousemove",D)},[]),e("div",{className:"lifegame-box",style:te(t),children:e("canvas",{id:"lifegame",width:t,height:t})})};var ne=()=>h("div",{className:"guide",children:[e(re,{}),h("blockquote",{className:"quotoSICP",children:[h("p",{children:["\u5982\u679C\u8BF4\u827A\u672F\u89E3\u91CA\u4E86\u6211\u4EEC\u7684\u68A6\u60F3\uFF0C",e("br",{}),"\u90A3\u4E48\u8BA1\u7B97\u673A\u5C31\u662F\u4EE5\u7A0B\u5E8F\u7684\u540D\u4E49\u6267\u884C\u7740\u5B83\u4EEC\u3002"]}),e("i",{style:{textAlign:"center",fontStyle:"italic",fontSize:"14px"},children:"\u2014\u2014 Alan J.Perlis\u300A\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u6784\u9020\u4E0E\u89E3\u91CA\u300B"})]}),e("div",{className:"link",children:e("h3",{onClick:()=>location.replace("/#/blog")})})]});const se=({id:t,title:r,tags:s,publishDate:l,content:n,toc:a,mode:o})=>{const m=new Date(l),E=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[b,y,x]=[E[m.getMonth()],m.getDate()+"TH",m.getFullYear()];return h("article",{className:"article post",children:[e("h1",{className:"article-title",children:o?r:e(p,{to:"/post/"+t,children:r})}),e("div",{className:"article-date",children:`${b||""} ${y} ${x||""}`}),e("div",{className:"article-content",children:e("div",{className:"post-body markdown-body",dangerouslySetInnerHTML:{__html:n}})}),e("div",{className:"article-info",children:h("div",{className:"article-tags",children:[e("span",{children:"Tags:"}),s.split("|").map(A=>e(p,{to:"/blog/tag/"+A,className:"article-tags-link",children:A},A))]})})]})};function ae(t){const r=t.filter(n=>n.type==="heading").map(n=>({nodeID:n.text.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-"),nodeLevel:n.depth,childrenNode:[]})),s={nodeID:"root",nodeLevel:0,childrenNode:[]};function l(n,a){let o;n.childrenNode.forEach(m=>{a.nodeLevel>m.nodeLevel&&(o=m)}),o===void 0?n.childrenNode.push(a):l(o,a)}return r.forEach(n=>l(s,n)),s}const S=new C.Renderer;S.heading=(t,r)=>{const s=t.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-");return`<h${r} id="${s}">${t}</h${r}>`};S.code=(t,r)=>{const s=_.highlightAuto(t).value;return`<pre><code class="lang-${r}">${s}</code></pre>`};C.setOptions({renderer:S,breaks:!0,gfm:!0});function oe(t){const{attributes:r,body:s}=K(t),l=s,n=r,a=C.lexer(l),o=ae(a),m=C.parser(a);return{meta:n,html:m,markdown:l,tocTree:o}}const le="https://ksana.oss-cn-shenzhen.aliyuncs.com/articles/tags.json",ie="https://ksana.oss-cn-shenzhen.aliyuncs.com/articles/",ce=()=>J().then(t=>[...new Set(t.map(r=>r.tags).reduce((r,s)=>r.concat(s)))]),I=()=>J(),ue=async t=>{const s=(await I()).find(l=>l.id==t);return s?await de(s.file_name):""},de=t=>O.get(ie+t),J=()=>O.get(le).then(t=>t.map(r=>{const s=r.tags.split("|").map(l=>l.trim());return k(P({},r),{tags:s})}));class he extends V.Component{constructor(r){super(r);this.state={hasError:!1,error:""},this.setState}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){}render(){return this.state.hasError?h(ee,{children:[e("h3",{style:{textAlign:"center"},children:"\u53D1\u751F\u4E86\u67D0\u4E9B\u610F\u5916\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u4E0D\u89C1\u4E86\uFF01"}),e("br",{}),e("p",{style:{color:"#fff"},children:this.state.error.toString()}),e("p",{style:{color:"#fff",maxHeight:300},children:JSON.stringify(this.props.post)})]}):this.props.children}}var me=()=>{const[t,r]=f.exports.useState(),[s,l]=f.exports.useState(!0),{id:n}=$();return f.exports.useEffect(()=>{!n||ue(Number(n)).then(a=>{try{const o=oe(a);if(!o)return;r(o),l(!1)}catch{}})},[n]),s||!t?e("h3",{style:{textAlign:"center"},children:"Loading..."}):e(he,{post:t,children:e(se,{id:Number(n),title:t.meta.title,tags:t.meta.tags,publishDate:t.meta.publishDate,content:t.html,toc:t.tocTree,mode:!0})})};var fe=t=>{const[r,s]=f.exports.useState([]),[l,n]=f.exports.useState("all"),{tag:a}=t;return f.exports.useEffect(()=>{console.log(a),a&&n(a)},[a]),f.exports.useEffect(()=>{ce().then(o=>{s(o)})},[]),h("ul",{className:"tags",children:[e("li",{style:{color:l==="all"?"#fff":"",background:l==="all"?"#333":""},children:e(p,{to:"/blog",onClick:o=>n("all"),children:"ALL"})}),r.map(o=>e("li",{style:{color:l===o?"#fff":"",background:l===o?"#333":""},children:e(p,{to:"/blog/tag/"+o,onClick:()=>n(o),children:o})},o))]})};var ge=t=>{const[r,s]=f.exports.useState([]),{tag:l}=t;f.exports.useEffect(()=>{I().then(a=>s(a))},[]);const n=a=>{const o=new Date(a),m=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[E,b,y]=[m[o.getMonth()],o.getDate()+"TH",o.getFullYear()];return`${E} ${b} ${y}`};return r.length===0?e("h3",{children:"Loading..."}):e("ul",{className:"post-list",children:r.sort((a,o)=>new Date(a.publish_date)<new Date(o.publish_date)?1:-1).filter(a=>l?!!a.tags.includes(l):!0).map(a=>e("li",{children:h(p,{to:"/blog/post/"+a.id,children:[e("span",{className:"post-item-name",children:a.title}),e("span",{className:"post-item-date",children:n(a.publish_date)})]})},a.id))})};const T=()=>{const t=$();return h("div",{className:"archive",children:[h("div",{className:"archive-tags",children:[e("h3",{children:"Tags"}),e(fe,{tag:t.tag||""})]}),h("div",{className:"archive-list",children:[e("h3",{children:"List"}),e(ge,{tag:t.tag||""})]})]})};const pe=()=>h("div",{className:"about",children:[e("div",{className:"mePic",children:e("img",{src:"https://avatars0.githubusercontent.com/u/7224894?s=460&v=4",alt:""})}),h("p",{children:["\u751F\u547D\u7684\u8C1C\u56E2\u5E76\u4E0D\u662F\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u751F\u6D3B\u7684\u4F53\u9A8C\u624D\u662F\u3002",e("br",{}),"\u2014\u2014\u300A\u6C99\u4E18\u300B"]}),e("br",{}),e("a",{style:{textDecoration:"underline"},href:"https://github.com/lzcers",children:"My GitHub"}),e("br",{}),e("i",{children:"Email: lzcers@gmail.com"})," ",e("br",{})]});var ve=()=>e("div",{className:"aranya",children:e("p",{children:"\u4F60\u6765\u4EBA\u95F4\u8D70\u4E00\u8D9F\uFF0C\u4E0D\u662F\u8981\u62E5\u6709\u4EC0\u4E48\uFF0C\u800C\u662F\u4F53\u9A8C\u4EC0\u4E48\u3002"})});const Ne=()=>h("nav",{className:"nav",children:[e("div",{className:"nav-header",children:e("h1",{className:"nav-sitename",children:e(p,{to:"/blog",children:h("div",{className:"nav-title",children:["\u5239",e("div",{className:"taijiBox",children:e("div",{className:"taiji"})}),"\u90A3"]})})})}),h("ul",{className:"nav-menu",children:[e("li",{className:"nav-item",children:e(p,{to:"/",children:"LIFEGAME"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog",children:"BLOG"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog/aranya",children:"ARANYA"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog/aboutme",children:"ABOUT"})})]})]});const Ee=()=>e("footer",{children:h("p",{children:["Copyright \xA9 KSANA 2017 - 2022",e("br",{}),"\u2764 Powered by React"]})}),be=()=>h(j,{children:[e(v,{path:"/",element:e(T,{})}),e(v,{path:"/tag/:tag",element:e(T,{})}),e(v,{path:"/post/:id",element:e(me,{})}),e(v,{path:"/aboutme",element:e(pe,{})}),e(v,{path:"/aranya",element:e(ve,{})})]}),ye=()=>h("div",{className:"container",children:[e(Ne,{}),e("div",{className:"content",children:e(be,{})}),e(Ee,{})]}),Ae=()=>h(j,{children:[e(v,{path:"/",element:e(ne,{})}),e(v,{path:"/blog/*",element:e(ye,{})})]});W.render(e(Q,{children:e(Ae,{})}),document.getElementById("app"));
