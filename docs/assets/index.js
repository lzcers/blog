var z=Object.defineProperty,G=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var R=(t,r,a)=>r in t?z(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,P=(t,r)=>{for(var a in r||(r={}))H.call(r,a)&&R(t,a,r[a]);if(S)for(var a of S(r))X.call(r,a)&&R(t,a,r[a]);return t},k=(t,r)=>G(t,q(r));import{j as L,r as f,L as p,m as C,l as _,f as K,a as O,R as V,u as $,b as j,c as v,d as W,H as Q}from"./vendor.js";const Z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}};Z();const e=L.exports.jsx,h=L.exports.jsxs,ee=L.exports.Fragment;function te(t=300){if(t!==0)return{height:t+"px",width:t+"px",margin:"0 auto"}}var re=()=>{const[t,r]=f.exports.useState();return f.exports.useEffect(()=>{const a=document.getElementById("lifegame"),l=a.getContext("2d");if(!a||!l)return;const n=Math.round(a.offsetWidth/10)*10,s=n/10,o=10;l.fillStyle="#f9f9f9",l.fillRect(0,0,n,n);const m=b(s);a.addEventListener("mousemove",M),r(n);function N(i){const c=JSON.parse(JSON.stringify(i));Y(c),D(i)}function b(i){const c=new Array(i);for(let u=0;u<i;u++){c[u]=new Array(i);for(let d=0;d<i;d++)c[u][d]=Math.round(Math.random())}return c}function A(i,c,u){let d=0;for(let g=i-1;g<=i+1;g++)for(let E=c-1;E<=c+1;E++)g>=0&&g<u.length&&E>=0&&E<u.length&&!(g===i&&E===c)&&(d+=u[g][E]===1?1:0);return d}function x(i,c,u){switch(A(i,c,u)){case 3:return m[i][c]=1,1;case 2:return-1;default:return m[i][c]=0,0}}function y(i,c){!l||(l.fillStyle="#111",l.fillRect(i*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function J(i,c){!l||(l.fillStyle="#f9f9f9",l.fillRect(i*o,c*o,o*window.devicePixelRatio,o*window.devicePixelRatio))}function D(i){const c=i.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)i[u][d]===1?y(u,d):J(u,d)}function M(i){const c=i.offsetX,u=i.offsetY,d=Math.floor(c/o),g=Math.floor(u/o);d<=0||g<=0||(d<s&&g<s&&(m[d][g]=1),D(m))}function Y(i){const c=i.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)x(u,d,i)}let F=null;const B=i=>{F||(F=i);const c=i-F;c>60&&(F=i-c%60,N(m)),requestAnimationFrame(B)};return requestAnimationFrame(B),()=>a.removeEventListener("mousemove",M)},[]),e("div",{className:"lifegame-box",style:te(t),children:e("canvas",{id:"lifegame",width:t,height:t})})};var ne=()=>h("div",{className:"guide",children:[e(re,{}),h("blockquote",{className:"quotoSICP",children:[h("p",{children:["\u5982\u679C\u8BF4\u827A\u672F\u89E3\u91CA\u4E86\u6211\u4EEC\u7684\u68A6\u60F3\uFF0C",e("br",{}),"\u90A3\u4E48\u8BA1\u7B97\u673A\u5C31\u662F\u4EE5\u7A0B\u5E8F\u7684\u540D\u4E49\u6267\u884C\u7740\u5B83\u4EEC\u3002"]}),e("i",{style:{textAlign:"center",fontStyle:"italic",fontSize:"14px"},children:"\u2014\u2014 Alan J.Perlis\u300A\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u6784\u9020\u4E0E\u89E3\u91CA\u300B"})]}),e("div",{className:"link",children:e("h3",{onClick:()=>location.replace("/#/blog")})})]});const ae=({id:t,title:r,tags:a,publishDate:l,content:n,toc:s,mode:o})=>{const m=new Date(l),N=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[b,A,x]=[N[m.getMonth()],m.getDate()+"TH",m.getFullYear()];return h("article",{className:"article post",children:[e("h1",{className:"article-title",children:o?r:e(p,{to:"/post/"+t,children:r})}),e("div",{className:"article-date",children:`${b||""} ${A} ${x||""}`}),e("div",{className:"article-content",children:e("div",{className:"post-body markdown-body",dangerouslySetInnerHTML:{__html:n}})}),e("div",{className:"article-info",children:h("div",{className:"article-tags",children:[e("span",{children:"Tags:"}),a.split("|").map(y=>e(p,{to:"/blog/tag/"+y,className:"article-tags-link",children:y},y))]})})]})};function se(t){const r=t.filter(n=>n.type==="heading").map(n=>({nodeID:n.text.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-"),nodeLevel:n.depth,childrenNode:[]})),a={nodeID:"root",nodeLevel:0,childrenNode:[]};function l(n,s){let o;n.childrenNode.forEach(m=>{s.nodeLevel>m.nodeLevel&&(o=m)}),o===void 0?n.childrenNode.push(s):l(o,s)}return r.forEach(n=>l(a,n)),a}const w=new C.Renderer;w.heading=(t,r)=>{const a=t.replace(/<(?:.|\n)*?>/gm,"").toLowerCase().replace(/[\s\n\t]+/g,"-");return`<h${r} id="${a}">${t}</h${r}>`};w.code=(t,r)=>{const a=_.highlightAuto(t).value;return`<pre><code class="lang-${r}">${a}</code></pre>`};C.setOptions({renderer:w,breaks:!0,gfm:!0});function oe(t){const{attributes:r,body:a}=K(t),l=a,n=r,s=C.lexer(l),o=se(s),m=C.parser(s);return{meta:n,html:m,markdown:l,tocTree:o}}const le="https://ksana.oss-cn-shenzhen.aliyuncs.com/articles/tags.json",ie="https://ksana.oss-cn-shenzhen.aliyuncs.com/articles/",ce=()=>U().then(t=>[...new Set(t.map(r=>r.tags).reduce((r,a)=>r.concat(a)))]),I=()=>U(),ue=async t=>{const a=(await I()).find(l=>l.id==t);return a?await de(a.file_name):""},de=t=>O.get(ie+t),U=()=>O.get(le,{useCache:!0}).then(t=>t.map(r=>{const a=r.tags.split("|").map(l=>l.trim());return k(P({},r),{tags:a})}));class he extends V.Component{constructor(r){super(r);this.state={hasError:!1,error:""}}static getDerivedStateFromError(r){return console.error(r),{hasError:!0,error:r}}componentDidCatch(r,a){}render(){return this.state.hasError?h(ee,{children:[e("h3",{style:{textAlign:"center"},children:"\u53D1\u751F\u4E86\u67D0\u4E9B\u610F\u5916\uFF0C\u8FD9\u7BC7\u6587\u7AE0\u4E0D\u89C1\u4E86\uFF01"}),e("br",{}),e("span",{style:{color:"#fff"},children:this.state.error})]}):this.props.children}}var me=()=>{const[t,r]=f.exports.useState(),[a,l]=f.exports.useState(!0),{id:n}=$();return f.exports.useEffect(()=>{!n||ue(Number(n)).then(s=>{try{const o=oe(s);if(!o)return;r(o),l(!1)}catch{}})},[n]),a||!t?e("h3",{style:{textAlign:"center"},children:"Loading..."}):e(he,{children:e(ae,{id:Number(n),title:t.meta.title,tags:t.meta.tags,publishDate:t.meta.publishDate,content:t.html,toc:t.tocTree,mode:!0})})};var fe=t=>{const[r,a]=f.exports.useState([]),[l,n]=f.exports.useState("all"),{tag:s}=t;return f.exports.useEffect(()=>{!r&&n(s)},[s]),f.exports.useEffect(()=>{ce().then(o=>{a(o)})},[]),h("ul",{className:"tags",children:[e("li",{style:{color:l==="all"?"#fff":"",background:l==="all"?"#333":""},children:e(p,{to:"/blog",onClick:o=>n("all"),children:"ALL"})}),r.map(o=>e("li",{style:{color:l===o?"#fff":"",background:l===o?"#333":""},children:e(p,{to:"/blog/tag/"+o,onClick:()=>n(o),children:o})},o))]})};var ge=t=>{const[r,a]=f.exports.useState([]),{tag:l}=t;f.exports.useEffect(()=>{I().then(s=>a(s))},[]);const n=s=>{const o=new Date(s),m=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],[N,b,A]=[m[o.getMonth()],o.getDate()+"TH",o.getFullYear()];return`${N} ${b} ${A}`};return r.length===0?e("h3",{children:"Loading..."}):e("ul",{className:"post-list",children:r.sort((s,o)=>new Date(s.publish_date)<new Date(o.publish_date)?1:-1).filter(s=>l?!!s.tags.includes(l):!0).map(s=>e("li",{children:h(p,{to:"/blog/post/"+s.id,children:[e("span",{className:"post-item-name",children:s.title}),e("span",{className:"post-item-date",children:n(s.publish_date)})]})},s.id))})};const T=()=>{const t=$();return h("div",{className:"archive",children:[h("div",{className:"archive-tags",children:[e("h3",{children:"Tags"}),e(fe,{tag:t.tag||""})]}),h("div",{className:"archive-list",children:[e("h3",{children:"List"}),e(ge,{tag:t.tag||""})]})]})};const pe=()=>h("div",{className:"about",children:[e("div",{className:"mePic",children:e("img",{src:"https://avatars0.githubusercontent.com/u/7224894?s=460&v=4",alt:""})}),h("p",{children:["\u751F\u547D\u7684\u8C1C\u56E2\u5E76\u4E0D\u662F\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u751F\u6D3B\u7684\u4F53\u9A8C\u624D\u662F\u3002",e("br",{}),"\u2014\u2014\u300A\u6C99\u4E18\u300B"]}),e("br",{}),e("a",{style:{textDecoration:"underline"},href:"https://github.com/lzcers",children:"My GitHub"}),e("br",{}),e("i",{children:"Email: lzcers@gmail.com"})," ",e("br",{})]});var ve=()=>e("div",{className:"aranya",children:e("p",{children:"\u4F60\u6765\u4EBA\u95F4\u8D70\u4E00\u8D9F\uFF0C\u4E0D\u662F\u8981\u62E5\u6709\u4EC0\u4E48\uFF0C\u800C\u662F\u4F53\u9A8C\u4EC0\u4E48\u3002"})});const Ee=()=>h("nav",{className:"nav",children:[e("div",{className:"nav-header",children:e("h1",{className:"nav-sitename",children:e(p,{to:"/blog",children:h("div",{className:"nav-title",children:["\u5239",e("div",{className:"taijiBox",children:e("div",{className:"taiji"})}),"\u90A3"]})})})}),h("ul",{className:"nav-menu",children:[e("li",{className:"nav-item",children:e(p,{to:"/",children:"LIFEGAME"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog",children:"BLOG"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog/aranya",children:"ARANYA"})}),e("li",{className:"nav-item",children:e(p,{to:"/blog/aboutme",children:"ABOUT"})})]})]});const Ne=()=>e("footer",{children:h("p",{children:["Copyright \xA9 KSANA 2017 - 2022",e("br",{}),"\u2764 Powered by React"]})}),be=()=>h(j,{children:[e(v,{path:"/",element:e(T,{})}),e(v,{path:"/tag/:tag",element:e(T,{})}),e(v,{path:"/post/:id",element:e(me,{})}),e(v,{path:"/aboutme",element:e(pe,{})}),e(v,{path:"/aranya",element:e(ve,{})})]}),Ae=()=>h("div",{className:"container",children:[e(Ee,{}),e("div",{className:"content",children:e(be,{})}),e(Ne,{})]}),ye=()=>h(j,{children:[e(v,{path:"/",element:e(ne,{})}),e(v,{path:"/blog/*",element:e(Ae,{})})]});W.render(e(Q,{children:e(ye,{})}),document.getElementById("app"));
